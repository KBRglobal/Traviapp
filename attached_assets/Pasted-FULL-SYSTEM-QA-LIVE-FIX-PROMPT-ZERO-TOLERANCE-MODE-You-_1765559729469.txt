FULL SYSTEM QA + LIVE FIX PROMPT – ZERO TOLERANCE MODE

You are in FULL END-TO-END QA AND FIX MODE.

Your job is to ACTUALLY USE the system as a human user would:
click, type, publish, break, upload, generate, approve, reject, refresh, bypass, retry.

Do NOT assume anything works.
Do NOT trust existing logic.
If something is not explicitly enforced – it is BROKEN.

You are required to TEST and FIX EVERYTHING listed below.
The task is complete ONLY when the system is airtight.

────────────────────────────────
GLOBAL ENFORCEMENT RULES
────────────────────────────────

• If something can be done when it should not → FIX IT.
• If something cannot be done when it should → FIX IT.
• If something works only “by UI” but not by API → FIX IT.
• If something works only “by API” but not by UI → FIX IT.
• If something is possible via URL, devtools, refresh, back button → FIX IT.
• No TODOs.
• No comments like “seems fine”.
• Fix immediately as you discover issues.

────────────────────────────────
PHASE 1 – USER ROLES (ABSOLUTE)
────────────────────────────────

Create REAL test users for EACH role:
Admin
Editor
Author
Contributor
Viewer

Log in as EACH user and PHYSICALLY TEST:

• Sidebar items
• Top navigation
• Buttons
• Hidden actions
• Direct URL access
• API calls
• Browser refresh
• Back button
• Opening new tabs
• Manual route typing

VERIFY STRICTLY:

Admin:
- Full access
- Can publish
- Can delete
- Can manage users
- Can see audit logs
- Can override locks

Editor:
- Can edit and publish
- Cannot change system settings
- Cannot manage users
- Cannot alter permission models

Author:
- Can create content
- Can edit OWN drafts
- Can submit for review
- Cannot publish
- Cannot delete
- Cannot access settings
- Cannot access users
- Cannot access affiliates
- Cannot access global media library
- Cannot see hidden SEO/schema fields

Contributor:
- Same as Author BUT:
- Cannot edit after submission
- Cannot see other users’ drafts
- Cannot duplicate content

Viewer:
- Read only
- Cannot create, edit, submit, delete, publish
- Zero mutation endpoints

TEST ALL OF THE ABOVE VIA:
UI
Direct URLs
API requests

Any leak = FIX.

────────────────────────────────
PHASE 2 – CONTENT CREATION (ALL TYPES)
────────────────────────────────

For EACH content type:
Article
Attraction
Hotel
Event
Dining
District
Transport
News

Test FULL lifecycle:

Create → Edit → Save Draft → Edit Again → Submit → Review → Approve → Publish
Reject → Return to Draft → Edit → Resubmit → Publish

VERIFY:
- Status transitions are enforced
- No skipping states
- No publishing without permission
- Submitted content becomes locked
- Rejected content is editable again
- Published content is immutable except by Admin/Editor

Try to break it:
- Double submit
- Publish twice
- Submit empty content
- Submit invalid blocks
- Refresh mid-action

Fix any inconsistency.

────────────────────────────────
PHASE 3 – CONTENT EDITOR (LOCKED DESIGN)
────────────────────────────────

Open editor as Author, Contributor, Editor.

Test:
• Typing
• Headings
• Lists
• Links
• FAQ blocks
• Image blocks
• Gallery blocks
• CTA blocks
• Drag & drop
• Reordering blocks
• Deleting blocks
• Required blocks
• Autosave
• Manual save
• Validation errors

VERIFY:
- Layout CANNOT be broken
- Required blocks CANNOT be removed
- Styles CANNOT be changed
- No custom HTML/CSS/JS
- No inline styles
- Editor behaves like Word inside locked layout

If ANY user can break layout → FIX schema enforcement.

────────────────────────────────
PHASE 4 – IMAGE SYSTEM + AI IMAGE GENERATION
────────────────────────────────

Test ALL image paths:

Manual upload:
- Wrong size
- Wrong aspect ratio
- Huge file
- Tiny file
- Wrong format

AI image generation:
- Click “Generate Image”
- Generate multiple times
- Generate for different blocks
- Generate with short text
- Generate with long text

VERIFY:
- Images auto-resize
- Aspect ratio enforced
- No layout break
- Filename auto-generated
- ALT auto-generated
- Caption auto-generated
- Image placed in correct block
- User cannot inject arbitrary image

If ANY image breaks layout or metadata → FIX.

────────────────────────────────
PHASE 5 – AI CONTENT GENERATION (TEXT)
────────────────────────────────

Test AI generation for:
- Article
- Hotel
- Attraction
- News

Verify:
- Correct structure
- Correct blocks
- Draft status only
- No auto-publish
- No hallucinated system data
- Editable fields work
- Required fields enforced

Test:
- Regenerate
- Partial regenerate
- Rewrite
- Expand
- Translate

Fix any instability.

────────────────────────────────
PHASE 6 – PUBLIC WEBSITE
────────────────────────────────

Publish REAL content and test:

• Homepage
• Category pages
• Single pages (all types)
• Pagination
• Filters
• Search
• Internal links
• Affiliate CTAs
• Mobile view
• SEO metadata
• Schema output

VERIFY:
- No broken links
- No empty states
- Correct canonical
- Correct schema per page
- Affiliate links correct and nofollow
- No admin data leaks

────────────────────────────────
PHASE 7 – SEARCH + 404
────────────────────────────────

Search:
- Exact match
- Partial match
- Misspellings
- Long queries
- Empty queries
- Special characters

404:
- Non-existing routes
- Deleted content
- Broken URLs

VERIFY:
- Proper 404 page
- No crash
- Helpful navigation
- No data exposure

────────────────────────────────
PHASE 8 – RSS PIPELINE
────────────────────────────────

Test RSS:
- Valid feeds
- Invalid feeds
- Duplicate items
- Similar content
- Empty feeds
- Malformed feeds

VERIFY:
- Deduplication works
- Content saved as Draft
- Correct content type
- No auto-publish
- AI rewrite respects structure

────────────────────────────────
PHASE 9 – AUDIT LOG (MANDATORY)
────────────────────────────────

Trigger actions:
- Login / logout
- Create content
- Edit content
- Submit
- Approve
- Reject
- Publish
- Delete
- Permission change
- Failed access attempt

VERIFY audit log records:
- User
- Action
- Target
- Timestamp
- Before / After
- IP / UA (if available)

If ANY action is missing → FIX.

────────────────────────────────
PHASE 10 – SECURITY & ABUSE
────────────────────────────────

Test:
- Unauthenticated API calls
- Wrong role tokens
- Expired sessions
- CSRF attempts
- Rate limits
- Mass requests
- Concurrent edits

VERIFY:
- Proper blocking
- Correct error codes
- No sensitive data leaked

────────────────────────────────
FINAL ACCEPTANCE RULE
────────────────────────────────

The system is DONE ONLY WHEN:

• A content writer cannot break anything even intentionally.
• An editor cannot bypass workflow rules.
• An admin must confirm destructive actions.
• No UI, route, or API behaves outside specification.
• All actions are logged.
• The system feels boring to attack.

Fix issues IMMEDIATELY as you find them.
Do NOT stop until everything above is enforced.